<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width"
    />
    <title>A-Frame View Controls</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@5.x.x/dist/aframe-animation-component.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <!-- Models -->
        <a-asset-item id="offWhiteChicago" src="jordan1/off_white_chicago/scene.gltf"></a-asset-item>
        <a-asset-item id="offWhiteUnc" src="jordan1/off_white_unc/scene.gltf"></a-asset-item>
        <a-asset-item id="retro" src="jordan1/retro_high_union_la_storm_blue/scene.gltf"></a-asset-item>
        <a-asset-item id="travis" src="jordan1/travis_scott/scene.gltf"></a-asset-item>


        <img id="Logo" src="icons/Logo.png" />

        <!-- Images for controls -->
        <img id="sideImg" src="icons/side.png" />
        <img id="frontImg" src="icons/front.png" />
        <img id="backImg" src="icons/back.png" />
        <img id="prevImg" src="icons/prev.png" />
        <img id="nextImg" src="icons/next.png" />
      </a-assets>

      <a-entity position="-8 -1 -20">
        <a-cylinder
          id="triggerCylinder"
          class="clickable"
          position="8 -2 5"
          radius="4"
          height="0.5"
          
          color="#808080"
        ></a-cylinder>


        <a-image
          src="#Logo"
          position="8 10 8"
          width="4"
          height="2.5"
          
      
        ></a-image>

        <!-- View control images -->
        <a-image
          id="sideView"
          class="clickable"
          src="#sideImg"
          position="5 -4 8"
          width="2"
          height="2.5"
          animation__mouseenter="property: scale; to: 1.1 1.1 1.1; dur: 300; startEvents: mouseenter"
          animation__mouseleave="property: scale; to: 1 1 1; dur: 300; startEvents: mouseleave"
        ></a-image>

        <a-image
          id="frontView"
          class="clickable"
          src="#frontImg"
          position="8 -4 8"
          width="2"
          height="2.5"
          animation__mouseenter="property: scale; to: 1.1 1.1 1.1; dur: 300; startEvents: mouseenter"
          animation__mouseleave="property: scale; to: 1 1 1; dur: 300; startEvents: mouseleave"
        ></a-image>

        <a-image
          id="backView"
          class="clickable"
          src="#backImg"
          position="11 -4 8"
          width="2"
          height="2.5"
          animation__mouseenter="property: scale; to: 1.1 1.1 1.1; dur: 300; startEvents: mouseenter"
          animation__mouseleave="property: scale; to: 1 1 1; dur: 300; startEvents: mouseleave"
        ></a-image>

        <!-- Model navigation images -->
        <a-image
          id="prevModel"
          class="clickable"
          src="#prevImg"
          position="3 -0.5 5"
          width="1.5"
          height="1.5"
          animation__mouseenter="property: scale; to: 1.1 1.1 1.1; dur: 200; startEvents: mouseenter"
          animation__mouseleave="property: scale; to: 1 1 1; dur: 200; startEvents: mouseleave"
        ></a-image>

        <a-image
          id="nextModel"
          class="clickable"
          src="#nextImg"
          position="13 -0.5 5"
          width="1.5"
          height="1.5"
          animation__mouseenter="property: scale; to: 1.1 1.1 1.1; dur: 200; startEvents: mouseenter"
          animation__mouseleave="property: scale; to: 1 1 1; dur: 200; startEvents: mouseleave"
        ></a-image>

        <!-- Stationary model -->
        <a-entity id="model" position="-1 1.5 16">
          <a-entity
            id="shoeModel"
            cursor="rayOrigin: mouse"
            rotation="0 -40 0"
            gltf-model="#offWhiteChicago"
            position="9 -3 -9"
            scale="26 26 26"
          ></a-entity>
        </a-entity>
      </a-entity>

      <!-- Camera -->
      <a-camera id="mainCamera" position="0 1.6 0">
        <a-cursor material="color: #FFFFFF; opacity: 0.5; transparent: true"></a-cursor>
      </a-camera>
    </a-scene>

    <script>
      const modelRotations = {
        side: { x: 0, y: 100, z: 0 },
        front: { x: 0, y: 20, z: 0 },
        back: { x: 0, y: 180, z: 0 },
        default: { x: 0, y: -40, z: 0 }
      };

      const modelData = [
        {
          id: '#offWhiteChicago',
          scale: '26 26 26',
          position: '9 -3 -9'
        },
        {
          id: '#offWhiteUnc',
          scale: '20 20 20',
          position: '9 -3 -9'
        },
        {
          id: '#retro',
          scale: '25 25 25',
          position: '9 -3 -9'
        },
        {
          id: '#travis',
          scale: '15 15 15',
          position: '9 -3 -9'
        }
      ];

      let currentModelIndex = 0;

      function rotateModel(targetRotation) {
        const model = document.querySelector('#shoeModel');
        model.setAttribute('animation__rotation', {
          property: 'rotation',
          to: `${targetRotation.x} ${targetRotation.y} ${targetRotation.z}`,
          dur: 1000,
          easing: 'easeInOutQuad'
        });
      }

      function setModel(index) {
        const model = document.querySelector('#shoeModel');
        const { id, scale, position } = modelData[index];
        model.setAttribute('gltf-model', id);
        model.setAttribute('scale', scale);
        model.setAttribute('position', position);
      }

      function nextModel() {
        currentModelIndex = (currentModelIndex + 1) % modelData.length;
        setModel(currentModelIndex);
      }

      function prevModel() {
        currentModelIndex = (currentModelIndex - 1 + modelData.length) % modelData.length;
        setModel(currentModelIndex);
      }

      document.addEventListener('DOMContentLoaded', function () {
        document.getElementById('sideView').addEventListener('click', function () {
          rotateModel(modelRotations.side);
        });

        document.getElementById('frontView').addEventListener('click', function () {
          rotateModel(modelRotations.front);
        });

        document.getElementById('backView').addEventListener('click', function () {
          rotateModel(modelRotations.back);
        });

        document.getElementById('triggerCylinder').addEventListener('click', function () {
          rotateModel(modelRotations.default);
        });

        document.getElementById('nextModel').addEventListener('click', nextModel);
        document.getElementById('prevModel').addEventListener('click', prevModel);
      });
    </script>
  </body>
</html>
